<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE rfc [
  <!ENTITY nbsp    "&#160;">
  <!ENTITY zwsp   "&#8203;">
  <!ENTITY nbhy   "&#8209;">
  <!ENTITY wj     "&#8288;">
]>
<?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
<!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.5.5 -->
<?rfc toc="yes"?>
<?rfc tocindent="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc strict="yes"?>
<?rfc compact="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>
<?rfc rfcedstyle="yes"?>
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" ipr="trust200902" docName="draft-nottingham-link-template-03" category="std" obsoletes="" updates="" submissionType="IETF" xml:lang="en" tocInclude="true" sortRefs="true" symRefs="true" version="3">
  <!-- xml2rfc v2v3 conversion 3.9.1 -->
  <front>
    <title abbrev="Link-Template">The Link-Template HTTP Header Field</title>
    <seriesInfo name="Internet-Draft" value="draft-nottingham-link-template-03"/>
    <author initials="M." surname="Nottingham" fullname="Mark Nottingham">
      <organization/>
      <address>
        <postal>
          <postalLine>Prahran</postalLine>
          <postalLine>VIC</postalLine>
          <postalLine>Australia</postalLine>
        </postal>
        <email>mnot@mnot.net</email>
        <uri>https://www.mnot.net/</uri>
      </address>
    </author>
    <date/>
    <area>General</area>
    <keyword>link relation</keyword>
    <abstract>
      <t>This specification defines the Link-Template HTTP header field, providing a means for describing the structure of a link between two resources, so that new links can be generated.</t>
    </abstract>
    <note>
      <name>Note to Readers</name>
      <t>The issues list can be found at <eref target="https://github.com/mnot/I-D/labels/link-template">https://github.com/mnot/I-D/labels/link-template</eref>.</t>
      <t>The most recent (often, unpublished) draft is at <eref target="https://mnot.github.io/I-D/link-template/">https://mnot.github.io/I-D/link-template/</eref>.</t>
      <t>Recent changes are listed at <eref target="https://github.com/mnot/I-D/commits/gh-pages/link-template">https://github.com/mnot/I-D/commits/gh-pages/link-template</eref>.</t>
    </note>
  </front>
  <middle>
    <section anchor="introduction" numbered="true" toc="default">
      <name>Introduction</name>
      <t><xref target="URI-TEMPLATE" format="default"/> defines a syntax for templates that, when expanded using a set of variables, results in a URI <xref target="URI" format="default"/>.</t>
      <t>This specification defines a HTTP header field <xref target="HTTP" format="default"/> for conveying templates for links in the headers of a HTTP message. It is complimentary to the Link header field defined in <xref section="3" sectionFormat="of" target="WEB-LINKING" format="default"/>, which carries links directly.</t>
      <section anchor="notational-conventions" numbered="true" toc="default">
        <name>Notational Conventions</name>
        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14 <xref target="RFC2119" format="default"/> <xref target="RFC8174" format="default"/> when, and only when, they appear in all capitals, as shown here.</t>
        <t>This document uses the Augmented BNF defined in <xref target="HTTP" format="default"/> to specify valid protocol elements. Additionally, it uses the modified "parameter" rule from <xref target="RFC5987" format="default"/> and the "URI-Template" rule from <xref target="URI-TEMPLATE" format="default"/>.</t>
      </section>
    </section>
    <section anchor="the-link-template-header-field" numbered="true" toc="default">
      <name>The Link-Template Header Field</name>
      <t>The Link-Template header field provides a means for serialising one or more links into HTTP message metadata. It is semantically equivalent to the Link header field defined in <xref section="3" sectionFormat="of" target="WEB-LINKING" format="default"/>, except that it uses URI Templates <xref target="URI-TEMPLATE" format="default"/> to convey the structure of links.</t>
      <sourcecode type="abnf"><![CDATA[
Link-Template  = "Link-Template" ":" #templated-link
templated-link = "<" URI-Template ">" *( ";" parameter )
]]></sourcecode>
      <t>For example:</t>
      <sourcecode type="http-message"><![CDATA[
Link-Template: </{username}>; rel="https://example.org/rel/user"
]]></sourcecode>
      <t>indicates that a resource with the relation type "https://example.org/rel/user" can be found by interpolating the "username" variable into the template given.</t>
      <t>The target for the link (as defined in <xref section="2" sectionFormat="of" target="WEB-LINKING" format="default"/>) is the result of expanding the URI Template <xref target="URI-TEMPLATE" format="default"/> (being converted to an absolute URI after expansion, if necessary).</t>
      <t>The context, relation type and target attributes for the link are determined as defined for the Link header field in <xref section="3" sectionFormat="of" target="WEB-LINKING" format="default"/>.</t>
      <t>Parameters on a templated-link have identical semantics to those of a Link header field. This includes (but is not limited to) the use of the "rel" parameter to convey the relation type, the "anchor" parameter to modify the context IRI, and so on.</t>
      <t>Likewise, the requirements for parameters on templated-links are the same as those for a Link header field; in particular, the "rel" parameter MUST NOT appear more than once, and if it does, the templated-link MUST be ignored by parsers.</t>
      <t>This specification defines additional semantics for the "var-base" parameter on templated-links; see below.</t>
      <section anchor="the-var-base-parameter" numbered="true" toc="default">
        <name>The 'var-base' parameter</name>
        <t>When a templated-link has a 'var-base' parameter, its value conveys a URI-reference that is used as a base URI for the variable names in the URI template. This allows template variables to be globally identified, rather than specific to the context of use.</t>
        <t>Dereferencing the URI for a particular variable might lead to more information about the syntax or semantics of that variable; specification of particular formats for this information is out of scope for this document.</t>
        <t>To determine the URI for a given variable, the value given is used as a base URI in reference resolution (as specified in <xref target="URI" format="default"/>). If the resulting URI is still relative, the context of the link is used as the base URI in a further resolution; see <xref target="WEB-LINKING" format="default"/>.</t>
        <t>For example:</t>
        <sourcecode type="http-message"><![CDATA[
Link-Template: </widgets/{widget_id}>;
               rel="https://example.org/rel/widget";
               var-base="https://example.org/vars/"
]]></sourcecode>
        <t>indicates that a resource with the relation type "https://example.org/rel/widget" can be found by interpolating the "https://example.org/vars/widget_id" variable into the template given.</t>
        <t>If the current context of the message that the header appears within is "https://example.org/", the same information could be conveyed by this header field:</t>
        <sourcecode type="http-message"><![CDATA[
Link-Template: </widgets/{widget_id}>;
               rel="https://example.org/rel/widget";
               var-base="/vars/"
]]></sourcecode>
      </section>
    </section>
    <section anchor="security-considerations" numbered="true" toc="default">
      <name>Security Considerations</name>
      <t>The security consideration for the Link header field in <xref target="WEB-LINKING" format="default"/> and those for URI Templates <xref target="URI-TEMPLATE" format="default"/> both apply.</t>
    </section>
    <section anchor="iana-considerations" numbered="true" toc="default">
      <name>IANA Considerations</name>
      <t>This specification enters the "Link-Template" into the Hypertext Transfer Protocol (HTTP) Field Name Registry.</t>
      <artwork name="" type="" align="left" alt=""><![CDATA[
Field Name: Link-Template
Status: permanent
Specification document: [this document]
]]></artwork>
    </section>
  </middle>
  <back>
    <references>
      <name>Normative References</name>
      <reference anchor="HTTP" target="https://www.ietf.org/archive/id/draft-ietf-httpbis-semantics-18.txt">
        <front>
          <title>HTTP Semantics</title>
          <author fullname="Roy T. Fielding">
            <organization>Adobe</organization>
          </author>
          <author fullname="Mark Nottingham">
            <organization>Fastly</organization>
          </author>
          <author fullname="Julian Reschke">
            <organization>greenbytes GmbH</organization>
          </author>
          <date day="18" month="August" year="2021"/>
          <abstract>
            <t>   The Hypertext Transfer Protocol (HTTP) is a stateless application-
   level protocol for distributed, collaborative, hypertext information
   systems.  This document describes the overall architecture of HTTP,
   establishes common terminology, and defines aspects of the protocol
   that are shared by all versions.  In this definition are core
   protocol elements, extensibility mechanisms, and the "http" and
   "https" Uniform Resource Identifier (URI) schemes.

   This document updates RFC 3864 and obsoletes RFC 2818, RFC 7231, RFC
   7232, RFC 7233, RFC 7235, RFC 7538, RFC 7615, RFC 7694, and portions
   of RFC 7230.

            </t>
          </abstract>
        </front>
        <seriesInfo name="Internet-Draft" value="draft-ietf-httpbis-semantics-18"/>
      </reference>
      <reference anchor="URI-TEMPLATE" target="https://www.rfc-editor.org/info/rfc6570">
        <front>
          <title>URI Template</title>
          <author fullname="J. Gregorio" initials="J." surname="Gregorio">
            <organization/>
          </author>
          <author fullname="R. Fielding" initials="R." surname="Fielding">
            <organization/>
          </author>
          <author fullname="M. Hadley" initials="M." surname="Hadley">
            <organization/>
          </author>
          <author fullname="M. Nottingham" initials="M." surname="Nottingham">
            <organization/>
          </author>
          <author fullname="D. Orchard" initials="D." surname="Orchard">
            <organization/>
          </author>
          <date month="March" year="2012"/>
          <abstract>
            <t>A URI Template is a compact sequence of characters for describing a range of Uniform Resource Identifiers through variable expansion. This specification defines the URI Template syntax and the process for expanding a URI Template into a URI reference, along with guidelines for the use of URI Templates on the Internet.   [STANDARDS-TRACK]</t>
          </abstract>
        </front>
        <seriesInfo name="RFC" value="6570"/>
        <seriesInfo name="DOI" value="10.17487/RFC6570"/>
      </reference>
      <reference anchor="URI" target="https://www.rfc-editor.org/info/rfc3986">
        <front>
          <title>Uniform Resource Identifier (URI): Generic Syntax</title>
          <author fullname="T. Berners-Lee" initials="T." surname="Berners-Lee">
            <organization/>
          </author>
          <author fullname="R. Fielding" initials="R." surname="Fielding">
            <organization/>
          </author>
          <author fullname="L. Masinter" initials="L." surname="Masinter">
            <organization/>
          </author>
          <date month="January" year="2005"/>
          <abstract>
            <t>A Uniform Resource Identifier (URI) is a compact sequence of characters that identifies an abstract or physical resource.  This specification defines the generic URI syntax and a process for resolving URI references that might be in relative form, along with guidelines and security considerations for the use of URIs on the Internet.  The URI syntax defines a grammar that is a superset of all valid URIs, allowing an implementation to parse the common components of a URI reference without knowing the scheme-specific requirements of every possible identifier.  This specification does not define a generative grammar for URIs; that task is performed by the individual specifications of each URI scheme.  [STANDARDS-TRACK]</t>
          </abstract>
        </front>
        <seriesInfo name="STD" value="66"/>
        <seriesInfo name="RFC" value="3986"/>
        <seriesInfo name="DOI" value="10.17487/RFC3986"/>
      </reference>
      <reference anchor="WEB-LINKING" target="https://www.rfc-editor.org/info/rfc8288">
        <front>
          <title>Web Linking</title>
          <author fullname="M. Nottingham" initials="M." surname="Nottingham">
            <organization/>
          </author>
          <date month="October" year="2017"/>
          <abstract>
            <t>This specification defines a model for the relationships between resources on the Web ("links") and the type of those relationships ("link relation types").</t>
            <t>It also defines the serialisation of such links in HTTP headers with the Link header field.</t>
          </abstract>
        </front>
        <seriesInfo name="RFC" value="8288"/>
        <seriesInfo name="DOI" value="10.17487/RFC8288"/>
      </reference>
      <reference anchor="RFC2119" target="https://www.rfc-editor.org/info/rfc2119">
        <front>
          <title>Key words for use in RFCs to Indicate Requirement Levels</title>
          <author fullname="S. Bradner" initials="S." surname="Bradner">
            <organization/>
          </author>
          <date month="March" year="1997"/>
          <abstract>
            <t>In many standards track documents several words are used to signify the requirements in the specification.  These words are often capitalized. This document defines these words as they should be interpreted in IETF documents.  This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
          </abstract>
        </front>
        <seriesInfo name="BCP" value="14"/>
        <seriesInfo name="RFC" value="2119"/>
        <seriesInfo name="DOI" value="10.17487/RFC2119"/>
      </reference>
      <reference anchor="RFC8174" target="https://www.rfc-editor.org/info/rfc8174">
        <front>
          <title>Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words</title>
          <author fullname="B. Leiba" initials="B." surname="Leiba">
            <organization/>
          </author>
          <date month="May" year="2017"/>
          <abstract>
            <t>RFC 2119 specifies common key words that may be used in protocol  specifications.  This document aims to reduce the ambiguity by clarifying that only UPPERCASE usage of the key words have the  defined special meanings.</t>
          </abstract>
        </front>
        <seriesInfo name="BCP" value="14"/>
        <seriesInfo name="RFC" value="8174"/>
        <seriesInfo name="DOI" value="10.17487/RFC8174"/>
      </reference>
      <reference anchor="RFC5987" target="https://www.rfc-editor.org/info/rfc5987">
        <front>
          <title>Character Set and Language Encoding for Hypertext Transfer Protocol (HTTP) Header Field Parameters</title>
          <author fullname="J. Reschke" initials="J." surname="Reschke">
            <organization/>
          </author>
          <date month="August" year="2010"/>
          <abstract>
            <t>By default, message header field parameters in Hypertext Transfer Protocol (HTTP) messages cannot carry characters outside the ISO- 8859-1 character set.  RFC 2231 defines an encoding mechanism for use in Multipurpose Internet Mail Extensions (MIME) headers.  This document specifies an encoding suitable for use in HTTP header fields that is compatible with a profile of the encoding defined in RFC 2231.  [STANDARDS-TRACK]</t>
          </abstract>
        </front>
        <seriesInfo name="RFC" value="5987"/>
        <seriesInfo name="DOI" value="10.17487/RFC5987"/>
      </reference>
    </references>
  </back>
  <!-- ##markdown-source:
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
miH5L8s2Y/5W/5syEelt9AfNxUIF9hUAAA==

-->

</rfc>
